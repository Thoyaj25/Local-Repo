AWSTemplateFormatVersion: '2010-09-09'
Description: >
  Create a VPC and a single private subnet (no autoâ€‘assigned public IP).

Resources:
  MyVPC:
    Type: AWS::EC2::VPC
    Properties:
      CidrBlock: 10.0.0.0/16
      EnableDnsSupport: true
      EnableDnsHostnames: true
      Tags:
        - Key: Name
          Value: myVPC

  MyPrivateSubnet:
    Type: AWS::EC2::Subnet
    Properties:
      VpcId: !Ref MyVPC
      CidrBlock: 10.0.1.0/24
      AvailabilityZone: us-east-1a    # pick one AZ; remove to let CFN choose
      MapPublicIpOnLaunch: false      # ensures this is a private subnet
      Tags:
        - Key: Name
          Value: myPrivateSubnet

Outputs:
  VpcId:
    Description: The ID of the new VPC
    Value: !Ref MyVPC

  PrivateSubnetId:
    Description: The ID of the private subnet
    Value: !Ref MyPrivateSubnet
